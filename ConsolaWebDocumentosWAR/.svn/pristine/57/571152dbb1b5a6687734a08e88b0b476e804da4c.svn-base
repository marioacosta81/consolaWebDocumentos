<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core">

<f:loadBundle basename="resources.application" var="msg"/>

<head>
	<title><h:outputText value="#{msg.welcomeTitle}" /></title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="/MenuAperturaProductosOnline/Resources/css/style-desktop.css"></link>
	<c:if test = "${param['canal'] != '16'}">
		<link rel="stylesheet" href="/MenuAperturaProductosOnline/Resources/css/jquery.bxslider.min.css"></link>
		<link rel="stylesheet" href="/MenuAperturaProductosOnline/Resources/css/estilos.css"></link>
		<style>
		  body {background-color: #ececec !important;}
		</style>
	</c:if>
</head>

	<body>
		<!--[if lte IE 9]>
            <p class="browserupgrade">Estas unsando un <strong>Navegador web desactualizado</strong>. Por favor <a href="https://browsehappy.com/">Actualiza tu navegador web</a> para mejorar tu experiencia y seguridad.</p>
        <![endif]-->
		<h:outputText escape="false" value="#{menuBean.loadMenu(param['canal'])}"/>

    <script type="text/javascript" src="/MenuAperturaProductosOnline/Resources/js/jquery-3.2.1.min.js"></script>
    <script src="/MenuAperturaProductosOnline/Resources/js/jquery.bxslider.min.js"></script>

 	<script type="text/javascript">
 		var slider;
		var targetWindow = window.parent;
        var proxy = {
            abrir: function( opc ) {
            	targetWindow.postMessage( { fn : "abrir", ps : [opc]}, "*");
            	console.error("Mensaje enviado!");
            },
            moduloCargado: function() {
            	targetWindow.postMessage( { fn : "moduloCargado", ps : []}, "*");
            	console.error("Mensaje enviado! moduloCargado");
            }
        };
    </script>
	<script type="text/javascript" src="/MenuAperturaProductosOnline/Resources/js/main.js"></script>
        <script type="text/javascript">
			$(window).on("load", function(){
				proxy.moduloCargado();
			
				slider = $(".data-slider").bxSlider({
					infiniteLoop: true,
					startSlide: 1,
					auto: false,
					pager:false,
					moveSlides: 1,
					preloadImages: 'all',
					slideMargin: 0,
					slideWidth: (window.innerWidth ? window.innerWidth : $(window).width())-15,
					minSlides:1,
					maxSlides:1,
					shrinkItems: true
				});
			});
        </script>
	</body>
</html>
